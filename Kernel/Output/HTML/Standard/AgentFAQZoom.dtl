# --
# AgentFAQZoom.dtl - provides HTML for AgentFAQZoom.pm
# Copyright (C) 2001-2012 OTRS AG, http://otrs.org/
# --
# $Id: AgentFAQZoom.dtl,v 1.30 2012-05-08 20:26:17 cr Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<div class="MainBox ARIARoleMain">
    <div class="ClearLeft"></div>
    <div class="Headline">
        <h1 title="$Config{"FAQ::FAQHook"}: $QData{"Number"} &ndash; $QData{"Title", "40"}">
            $Config{"FAQ::FAQHook"}: $Data{"Number"} <span>&mdash;</span> $QData{"Title", "60"}
        </h1>
    </div>

    <div class="FAQPathCategory">
        <h3>
<!-- dtl:block:FAQPathCategoryElement -->
            $Config{"FAQ::Explorer::Path::Separator"}
            <a href="$Env{"Baselink"}Action=AgentFAQExplorer;CategoryID=$LQData{"CategoryID"};Nav=$LQData{"Nav"}">
                $QData{"Name"}
            </a>
<!-- dtl:block:FAQPathCategoryElement -->
        </h3>
    </div>

    <div class="LayoutFixedSidebar SidebarLast">
        <div class="SidebarColumn">
            <div class="WidgetSimple">
                <div class="Header">
                    <h2>$Text{"FAQ Information"}</h2>
                </div>
                <div class="Content">
                    <fieldset class="TableLike FixedLabelSmall">
                        <label>$Text{"Category"}:</label>
                        <p class="Value" title="$Text{"$Data{"CategoryName"}"}">$Text{"$Data{"CategoryName"}","18"}</p>
                        <div class="Clear"></div>
                    </fieldset>
                    <fieldset class="TableLike FixedLabelSmall">
                        <label>$Text{"Keywords"}:</label>
                        <p class="Value">
<!-- dtl:block:Keywords -->
                            <a href="$Env{"Baselink"}Action=AgentFAQSearch;Subaction=Search;Keyword=$LQData{"Keyword"}" title="$QData{"Keyword"}">$QData{"Keyword"}</a>
<!-- dtl:block:Keywords -->
                        </p>
                        <div class="Clear"></div>
                    </fieldset>
                    <fieldset class="TableLike FixedLabelSmall">
                        <label>$Text{"State"}:</label>
                        <p class="Value" title="$Text{"$Data{"State"}"}">$Text{"$Data{"State"}","25"}</p>
                        <div class="Clear"></div>
<!-- dtl:block:Language -->
                        <label>$Text{"Language"}:</label>
                        <p class="Value" title="$Text{"$Data{"Language"}"}">$Text{"$Data{"Language"}","18"}</p>
                        <div class="Clear"></div>
<!-- dtl:block:Language -->

<!-- dtl:block:ViewApproval -->
                        <label>$Text{"Approval"}:</label>
                        <p class="Value" title="$Text{"$Data{"Approval"}"}">$Text{"$Data{"Approval"}","18"}</p>
                        <div class="Clear"></div>
<!-- dtl:block:ViewApproval -->

<!-- dtl:block:ViewRating -->
                        <label>$Text{"Rating"}:</label>
                        <div class="Value" title="$Text{"Rating $Data{"VoteResult"}%"}">

<!-- dtl:block:RateStars -->
                            <div>
                                <span class="RateStar">Star</span>
                            </div>
<!-- dtl:block:RateStars -->
<!-- dtl:block:RateStarsCount -->
                            <div class="RateStarText">
                                $QData{"Stars"} $Text{"out of 5"}
                            </div>
<!-- dtl:block:RateStarsCount -->
                        </div>
                        <div class="Clear"></div>
<!-- dtl:block:ViewRating -->

<!-- dtl:block:ViewVotes -->
                        <label>$Text{"Votes"}:</label>
                        <p class="Value" title="$Text{"$Data{"Votes"}"}">$Text{"$Data{"Votes"}","18"}</p>
<!-- dtl:block:ViewVotes -->
<!-- dtl:block:ViewNoVotes -->
                        <label>$Text{"Votes"}:</label>
                        <p class="Value" title="$Text{"No votes found!"}">$Text{"No votes found! Be the first one to rate this FAQ article."}</p>
<!-- dtl:block:ViewNoVotes -->

                        <div class="Clear"></div>

                        <label>$Text{"Created"}:</label>
                        <p class="Value" title="$TimeLong{"$Data{"Created"}"} ($Data{"CreatedByLogin"})">$TimeShort{"$Data{"Created"}"}  ($Data{"CreatedByLogin"})</p>
                        <div class="Clear"></div>

                        <label>$Text{"Changed"}:</label>
                        <p class="Value" title="$TimeLong{"$Data{"Changed"}"} ($Data{"CreatedByLogin"})">$TimeShort{"$Data{"Changed"}"}  ($Data{"ChangedByLogin"})</p>
                        <div class="Clear"></div>
                    </fieldset>
                </div>
            </div>

<!-- dtl:block:LinkTableSimple -->
            <div class="WidgetSimple DontPrint">
                <div class="Header">
                    <h2>$Text{"Linked Objects"}</h2>
                </div>
                <div class="Content">
                    $Data{"LinkTableStrg"}
                </div>
            </div>
<!-- dtl:block:LinkTableSimple -->

        </div>
        <div class="ContentColumn">
            <div class="ControlRow">
                <div class="AdditionalInformation">
                </div>
            </div>

            <div class="ActionRow">
                <ul class="Actions">

<!-- dtl:block:MenuItem -->
                    <li>
                        <a href="$Env{"Baselink"}$Data{"Link"}" id="$QData{"MenuID"}" class="$QData{"Class"}" $Data{"LinkParam"} title="$Text{"$Data{"Description"}"}">$Text{"$Data{"Name"}"}</a>
                    </li>

<!-- dtl:block:ShowConfirmationDialog -->
<!--dtl:js_on_document_complete-->
<script type="text/javascript">//<![CDATA[
/*global FAQ: true */
    FAQ.Agent.ConfirmationDialog.BindConfirmationDialog({
        ElementID:                  '$Data{"MenuID"}',
        ElementSelector:            '$Data{"ElementSelector"}',
        DialogContentQueryString:   '$Data{"DialogContentQueryString"}',
        ConfirmedActionQueryString: '$Data{"ConfirmedActionQueryString"}',
        DialogTitle:                '$Data{"DialogTitle"}',
        TranslatedText:             {
            Yes: '$JSText{"Yes"}',
            No:  '$JSText{"No"}',
            Ok:  '$JSText{"Ok"}'
        }
    });
//]]></script>
<!--dtl:js_on_document_complete-->
<!-- dtl:block:ShowConfirmationDialog -->

<!-- dtl:block:MenuItem -->

                </ul>
                <div class="Clear"></div>
            </div>
            <div id="FAQBody">

<!-- dtl:block:AttachmentHeader -->
                <div class="WidgetBox">
                    <div class="FAQContent">
                        <div class="ArticleFAQHeader">
                            <label>$Text{"Attachments"}:</label>
                            <div class="Clear"></div>
                        </div>
                        <div class="ArticleFAQContent">
                            <div class="message">

<!-- dtl:block:AttachmentRow -->
                                <span class="DownloadAttachment" title="$Text{"Download Attachment"}">
                                    <a href="$Env{"Baselink"}Action=$Env{"Action"};Subaction=DownloadAttachment;ItemID=$LQData{"ItemID"};FileID=$LQData{"FileID"}">
                                        $QData{"Filename"}
                                    </a>
                                    , $QData{"Filesize"}
                                </span>
                                <br/>
<!-- dtl:block:AttachmentRow -->

                            </div>
                        </div>
                    </div>
                </div>
<!-- dtl:block:AttachmentHeader -->

<!-- dtl:block:FAQContent -->
                <div class="WidgetBox">
                    <div class="FAQContent">
                        <div class="ArticleFAQHeader">
                            <label>$Text{"$Data{"Caption"}"}:</label>
                            <span class="FAQStateName">($Text{"$Data{"StateName"}"})</span>
                            <div class="Clear"></div>
                        </div>
                        <div class="ArticleFAQContent">
                            <div class="message">
                                $Data{"Content"}
                            </div>
                        </div>
                    </div>
                </div>
<!-- dtl:block:FAQContent -->
<!-- dtl:block:FAQVoting -->
                <div class="WidgetBox">
                    <div class="FAQVoting" id="FAQVoting">
                        <div class="ArticleFAQHeader">
                            <label>$Text{"Rating"}:</label>
                            <div class="Clear"></div>
                        </div>
                        <div class="ArticleFAQContent">
                            <h3>$Text{"How helpful was this article? Please give us your rating and help to improve the FAQ Database. Thank You!"}</h3>
                            <div class="SpacingTop">
                                <form action="$Env{"CGIHandle"}" method="post" enctype="multipart/form-data" name="FAQVote">
                                    <div>
                                        <span class="RateLabelBefore">$Text{"not helpful"}</span>
                                    </div>

<!-- dtl:block:FAQVotingRateRow -->
                                    <div id="RateButton$Data{"Value"}">
                                        <span class="RateButton RateUnChecked">$QData{"Title"}</span>
                                    </div>
<!-- dtl:block:FAQVotingRateRow -->

                                    <div>
                                        <span class="RateLabelAfter">$Text{"very helpful"}</span>
                                    </div>
                                    <button type="submit" class="Hidden" id="RateSubmitButton" name="btn" value="$Text{"Submit"}">$Text{"Submit"}</button>
                                    <input type="hidden" name="Action" value="AgentFAQZoom"/>
                                    <input type="hidden" name="Subaction" value="Vote"/>
                                    <input type="hidden" name="CategoryID" value="$QData{"CategoryID"}"/>
                                    <input type="hidden" name="ItemID" value="$QData{"ItemID"}"/>
                                    <input type="hidden" name="Rate" value=""id="RateValue"/>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
<!-- dtl:block:FAQVoting -->

            </div>
            <div class="Clear"></div>
<!-- dtl:block:LinkTableComplex -->
            <div class="Content">
                $Data{"LinkTableStrg"}
            </div>
<!-- dtl:block:LinkTableComplex -->

        </div>
        <div class="Clear"></div>
    </div>
</div>

<!-- dtl:js_on_document_complete -->
<script type="text/javascript">//<![CDATA[
    $('ul.Actions a.AsPopup').bind('click', function (Event) {
        Core.UI.Popup.OpenPopup ($(this).attr('href'), 'Action');
        return false;
    });

    $('.RateButton').bind('click', function (Event) {
        var RateNumber = parseInt($(this).closest('div').attr('id').replace(/RateButton/, ''), 10);
        $('#RateValue').val(RateNumber);
        $('#RateSubmitButton').removeClass('Hidden');
        $('#FAQVoting').find('.RateButton').each(function() {
            var ItemRateNumber = parseInt($(this).closest('div').attr('id').replace(/RateButton/, ''), 10);
            if ( ItemRateNumber <= RateNumber ) {
                $(this).addClass('RateChecked');
                $(this).removeClass('RateUnChecked');
            }
            else {
                $(this).addClass('RateUnChecked');
                $(this).removeClass('RateChecked');
            }
        });
    });
//]]></script>
<!-- dtl:js_on_document_complete -->
